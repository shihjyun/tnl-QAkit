{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "AnswerHeader.svelte",
    "AnswerMessage.svelte",
    "ArticleList.svelte",
    "BasicParagraphs.svelte",
    "Header.svelte",
    "QASections.svelte",
    "QATemplate.svelte",
    "Spinner.svelte",
    "TeamCreatorList.svelte"
  ],
  "sourcesContent": [
    "<style>\n  .container-width {\n    width: 100%;\n  }\n</style>\n\n<script>\n  import Header from './shared/Header.svelte'\n  import MobileDetector from './utils/MobileDetector.svelte'\n  import QAsections from './shared/QASections.svelte'\n  import BasicParagraphs from './shared/BasicParagraphs.svelte'\n  import ArticleList from './shared/ArticleList.svelte'\n  import { QAStatus } from './stores/QAStatusStore.js'\n\n  function handleClick() {\n    document.querySelector('#qa-sections').style.display = 'block'\n    document.querySelector('#qa-no-1').scrollIntoView({\n      behavior: 'smooth',\n    })\n    document.querySelector('body').style.overflow = 'hidden'\n  }\n</script>\n\n<!-- utils components -->\n<MobileDetector />\n\n<!-- content -->\n<Header />\n<main>\n  <article class=\"main-grid-template\">\n    <section class=\"container-width mx-auto grid-full-cols\">\n      <BasicParagraphs sectionName=\"intro\" />\n    </section>\n    <section class=\"container-width mx-auto grid-full-cols\">\n      <button on:click={handleClick} class=\"block border border-black mx-auto mb-6\">開始作答</button>\n    </section>\n    <section class=\"container-width mx-auto grid-full-cols overflow-hidden\" id=\"qa-sections\" style=\"display:none\">\n      <QAsections />\n    </section>\n    {#if false}\n      <!-- read more -->\n      <section class=\"container-width mx-auto grid-full-cols\">\n        <ArticleList projectName=\"us-election-2020-article-lists-tc\">\n          <h2 class=\"text-center\">延伸閱讀</h2>\n        </ArticleList>\n      </section>\n    {/if}\n  </article>\n</main>\n",
    "<style>\n  div[class*='progress'] {\n    max-width: 400px;\n  }\n</style>\n\n<script>\n  import { QAProgressArray } from '../stores/QAStatusStore.js'\n  export let questNumber\n  export let maxQuestion\n\n  function progressColorChecker(status) {\n    if (status == 'correct') {\n      return '#1AD71A'\n    } else if (status == 'wrong') {\n      return '#FF0000'\n    } else if (status == 'unanswered') {\n      return '#FFFFFF'\n    }\n  }\n\n  $: console.log('header', $QAProgressArray)\n</script>\n\n<div class=\"text-center border-b-2 border-black mt-6 mb-2 pb-3 mx-3\">\n  <div class=\"flex justify-between items-center progress mx-auto\">\n    {#if $QAProgressArray}\n      {#each $QAProgressArray as { question_number, status }}\n        {#if +question_number == +questNumber}\n          <div class=\"flex justify-center items-center rounded-full h-6 w-6 mx-2 border-2 border-black\">\n            <div\n              class=\"rounded-full bg-black h-4 w-4\"\n              style=\"background-color: {status === 'unanswered' ? '#000000' : progressColorChecker(status)}\"\n            />\n          </div>\n        {:else}\n          <div\n            class=\"rounded-full h-4 w-4 mx-2 border-2 border-black\"\n            style=\"background-color: {progressColorChecker(status)}\"\n          />\n        {/if}\n      {/each}\n    {/if}\n  </div>\n</div>\n<div class=\"flex justify-between items-center mx-3 mt-1\">\n  <div>\n    <svg width=\"19\" height=\"20\" viewBox=\"0 0 19 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M7.856 0.0399995C9.088 0.0399995 10.184 0.256 11.144 0.688C12.104 1.12 12.912 1.704 13.568 2.44C14.224 3.176 14.72 4.032 15.056 5.008C15.408 5.984 15.584 7.008 15.584 8.08C15.584 9.104 15.432 10.096 15.128 11.056C14.824 12 14.368 12.848 13.76 13.6C13.168 14.336 12.432 14.944 11.552 15.424C10.672 15.904 9.656 16.176 8.504 16.24C9.32 16.256 10.04 16.352 10.664 16.528C11.288 16.72 11.872 16.92 12.416 17.128C12.976 17.352 13.528 17.552 14.072 17.728C14.616 17.904 15.2 17.992 15.824 17.992C16.048 17.992 16.312 17.96 16.616 17.896C16.936 17.848 17.272 17.72 17.624 17.512L17.696 17.56L18.032 18.232L18.008 18.328C17.64 18.792 17.192 19.184 16.664 19.504C16.136 19.824 15.544 19.984 14.888 19.984C14.344 19.984 13.784 19.856 13.208 19.6C12.648 19.36 12.056 19.088 11.432 18.784C10.808 18.496 10.16 18.224 9.488 17.968C8.816 17.728 8.112 17.608 7.376 17.608C6.752 17.608 6.144 17.712 5.552 17.92C4.976 18.128 4.552 18.352 4.28 18.592L4.208 18.568L3.944 17.632L3.968 17.56C4.32 17.32 4.792 17.056 5.384 16.768C5.976 16.48 6.616 16.312 7.304 16.264C6.12 16.248 5.08 16.024 4.184 15.592C3.288 15.16 2.536 14.584 1.928 13.864C1.336 13.128 0.888 12.28 0.584 11.32C0.28 10.36 0.128 9.344 0.128 8.272C0.128 7.136 0.304 6.072 0.656 5.08C1.008 4.072 1.512 3.2 2.168 2.464C2.824 1.712 3.632 1.12 4.592 0.688C5.552 0.256 6.64 0.0399995 7.856 0.0399995ZM7.832 14.272C8.616 14.272 9.312 14.112 9.92 13.792C10.544 13.456 11.064 13.016 11.48 12.472C11.896 11.912 12.216 11.264 12.44 10.528C12.664 9.776 12.776 8.976 12.776 8.128C12.776 7.264 12.656 6.464 12.416 5.728C12.192 4.976 11.856 4.328 11.408 3.784C10.976 3.24 10.448 2.816 9.824 2.512C9.2 2.192 8.496 2.032 7.712 2.032C6.944 2.032 6.264 2.184 5.672 2.488C5.08 2.792 4.584 3.216 4.184 3.76C3.784 4.304 3.48 4.952 3.272 5.704C3.064 6.44 2.96 7.24 2.96 8.104C2.96 9.048 3.08 9.904 3.32 10.672C3.56 11.424 3.896 12.072 4.328 12.616C4.76 13.144 5.272 13.552 5.864 13.84C6.456 14.128 7.112 14.272 7.832 14.272Z\"\n        fill=\"black\"\n      />\n    </svg>\n  </div>\n  <div class=\"bg-black\">\n    <span class=\"text-xs tracking-wider text-white mx-2 my-1\">{questNumber}/{maxQuestion}</span>\n  </div>\n</div>\n",
    "<style>\n  div {\n    border-bottom: 2px solid rgba(228, 228, 228, 0.3);\n  }\n  div > span {\n    letter-spacing: 0.3rem;\n  }\n</style>\n\n<script>\n  export let explainStatus\n</script>\n\n{#if explainStatus === 'explain_correct'}\n  <div class=\"flex justify-between items-center mx-3 mt-8 pb-2\">\n    <span class=\"mx-3\">\n      <svg width=\"22px\" height=\"22px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 22\"><path\n          d=\"M20.7,5.8A10.87,10.87,0,0,0,18,2.5,10.7,10.7,0,0,0,11,0,11,11,0,0,0,0,11a10.7,10.7,0,0,0,2.5,7,11.8,11.8,0,0,0,3.2,2.7A11.86,11.86,0,0,0,11,22a11.12,11.12,0,0,0,5.2-1.3,11,11,0,0,0,4.4-4.4,11.65,11.65,0,0,0,.1-10.5Z\"\n          style=\"fill:#1ad71a\"\n        />\n        <path\n          d=\"M9.7,16.8l8.2-8.2a.67.67,0,0,0,0-1l-1-1a.67.67,0,0,0-1,0L9.2,13.3,6.1,10.2a.67.67,0,0,0-1,0l-1,1a.67.67,0,0,0,0,1l4.6,4.6A.67.67,0,0,0,9.7,16.8Z\"\n          style=\"fill:#fff\"\n        /></svg>\n    </span>\n    <span class=\"text-lg font-black\">答對了</span>\n    <span class=\"mx-3\">\n      <svg width=\"22px\" height=\"22px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 22\"><path\n          d=\"M20.7,5.8A10.87,10.87,0,0,0,18,2.5,10.7,10.7,0,0,0,11,0,11,11,0,0,0,0,11a10.7,10.7,0,0,0,2.5,7,11.8,11.8,0,0,0,3.2,2.7A11.86,11.86,0,0,0,11,22a11.12,11.12,0,0,0,5.2-1.3,11,11,0,0,0,4.4-4.4,11.65,11.65,0,0,0,.1-10.5Z\"\n          style=\"fill:#1ad71a\"\n        />\n        <path\n          d=\"M9.7,16.8l8.2-8.2a.67.67,0,0,0,0-1l-1-1a.67.67,0,0,0-1,0L9.2,13.3,6.1,10.2a.67.67,0,0,0-1,0l-1,1a.67.67,0,0,0,0,1l4.6,4.6A.67.67,0,0,0,9.7,16.8Z\"\n          style=\"fill:#fff\"\n        /></svg>\n    </span>\n  </div>\n{:else}\n  <div class=\"flex justify-between items-center mx-3 mt-8 pb-2\">\n    <span class=\"mx-3\">\n      <svg width=\"22px\" height=\"22px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 22\"><circle\n          cx=\"11\"\n          cy=\"11\"\n          r=\"11\"\n          style=\"fill:#dd4b4b\"\n        />\n        <path\n          d=\"M6,7.2,7.2,6A.61.61,0,0,1,8,6l3,3,3-3a.61.61,0,0,1,.8,0L16,7.2A.61.61,0,0,1,16,8l-3,3,3,3a.61.61,0,0,1,0,.8L14.8,16a.61.61,0,0,1-.8,0l-3-3L8,16a.61.61,0,0,1-.8,0L6,14.8A.61.61,0,0,1,6,14l3-3L6,8A.61.61,0,0,1,6,7.2Z\"\n          style=\"fill:#fff\"\n        /></svg>\n    </span>\n    <span class=\"text-lg font-black\">答錯了</span>\n    <span class=\"mx-3\">\n      <svg width=\"22px\" height=\"22px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 22\"><circle\n          cx=\"11\"\n          cy=\"11\"\n          r=\"11\"\n          style=\"fill:#dd4b4b\"\n        />\n        <path\n          d=\"M6,7.2,7.2,6A.61.61,0,0,1,8,6l3,3,3-3a.61.61,0,0,1,.8,0L16,7.2A.61.61,0,0,1,16,8l-3,3,3,3a.61.61,0,0,1,0,.8L14.8,16a.61.61,0,0,1-.8,0l-3-3L8,16a.61.61,0,0,1-.8,0L6,14.8A.61.61,0,0,1,6,14l3-3L6,8A.61.61,0,0,1,6,7.2Z\"\n          style=\"fill:#fff\"\n        /></svg>\n    </span>\n  </div>\n{/if}\n",
    "<style>\n  #article-img {\n    width: 45%;\n  }\n  @media (min-width: 640px) {\n    #article-img {\n      width: 28.1%;\n    }\n  }\n</style>\n\n<script>\n  import Spinner from './Spinner.svelte';\n  export let projectName = '';\n  export let tnlLanguage = 'tw';\n\n  const articleListsUrl =\n    'https://datastore.thenewslens.com/infographic/article-lists/' + projectName + '.json?' + `${Date.now()}`;\n\n  const articleData = (async () => {\n    const response = await fetch(articleListsUrl);\n    return await response.json();\n  })();\n</script>\n\n<slot />\n\n<div class=\"article-list-grid-template pb-20\">\n  {#await articleData}\n    <div class=\"w-64 h-64\">\n      <Spinner />\n    </div>\n  {:then articleData}\n    {#each articleData.slice(0, 6) as { articletitle, articledate, articleimage, articleid }}\n      <div class=\"my-4 shadow\">\n        <div class=\"overflow-hidden\">\n          <a\n            href={`https://www.thenewslens.com/${articleid}?utm_source=TNL-interactive&utm_medium=article-zone&utm_campaign=${projectName}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img class=\"article-lists-img hover:scale-110\" src={articleimage} alt=\"\" />\n          </a>\n        </div>\n        <span class=\"article-lists-date\">{articledate}</span>\n        <a\n          href={`https://www.thenewslens.com/${articleid}?utm_source=TNL-interactive&utm_medium=article-zone&utm_campaign=${projectName}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <h3 class=\"article-lists-h3 hover:text-blue-800\">{articletitle}</h3>\n        </a>\n      </div>\n    {/each}\n  {:catch error}\n    <p class=\"text-center\">An error occurred!</p>\n  {/await}\n</div>\n",
    "<style>\n  figcaption {\n    margin: 0 10px;\n    font-size: 12px;\n    letter-spacing: 0.05em;\n    padding: 0 0 3px 0;\n    color: #777;\n    line-height: 1.5rem;\n    max-width: 650px;\n    border-bottom: dashed 1px #ccc;\n  }\n\n  @media (min-width: 640px) {\n    figcaption {\n      font-size: 16px;\n      letter-spacing: 0.05em;\n      margin: 0 auto;\n      padding: 0 7px 7px 7px;\n      color: #777;\n      line-height: 1.5rem;\n      max-width: 650px;\n      border-bottom: dashed 1px #ccc;\n    }\n  }\n</style>\n\n<script>\n  import ContentDataStore from '../stores/ContentDataStore.js';\n\n  // the object name this section need to query\n  export let sectionName = 'testing';\n\n  let basicPragraphsData;\n\n  // check store has fetched content data from GCS\n  $: if ($ContentDataStore) {\n    basicPragraphsData = $ContentDataStore[sectionName];\n  }\n</script>\n\n<div class=\"basic-p-container\">\n  <!--  check store has fetched content data from GCS -->\n  {#if $ContentDataStore}\n    {#each basicPragraphsData as { type, value }}\n      {#if type === 'text'}\n        <p>{value}</p>\n      {:else if type === 'subtitle'}\n        <h3>{value}</h3>\n      {:else if type === 'image'}\n        <figure class=\"img-wrapper\">\n          <img src={value.url} alt={value.discription} />\n          <figcaption>{value.note}</figcaption>\n        </figure>\n      {/if}\n    {/each}\n  {/if}\n</div>\n",
    "<style>\n  img {\n    width: 220px;\n  }\n</style>\n\n<script>\n  import SocialBox from './SocialBox.svelte';\n\n  export let homePageUrl = 'https://www.thenewslens.com/';\n  export let shareUrl = '#';\n  export let tnlDomainPageId = '#';\n  export let socialIconColor = '#807F80';\n</script>\n\n<header class=\"flex justify-between bg-white py-2 px-2 shadow\">\n  <div class=\"inline-block\">\n    <a href={homePageUrl}>\n      <figure class=\"ml-2\">\n        <img src=\"https://image3.thenewslens.com/assets/web/publisher-photo-1.png\" alt=\"Tne News Lens logo\" />\n      </figure>\n    </a>\n  </div>\n  <div class=\"inline-block\">\n    <SocialBox {shareUrl} {tnlDomainPageId} {socialIconColor} />\n  </div>\n</header>\n",
    "<style>\n  #qa-container {\n    height: 100vh;\n    transform: translate3d(0, calc(var(--transleteY) * 1px), 0);\n  }\n  .qa-section {\n    width: 100%;\n  }\n</style>\n\n<script>\n  import { cssVariables, getAllSectionsHeight } from '../utils/helper.js'\n  import { isMobile } from '../stores/DeviceDetectorStore.js'\n  import { tweened } from 'svelte/motion'\n  import { quintOut } from 'svelte/easing'\n  import { onMount } from 'svelte'\n  import {\n    QAFinalPage,\n    QASectionsHeight,\n    QAProgress,\n    RightAnswerCalc,\n    QAProgressArray,\n  } from '../stores/QAStatusStore.js'\n  import BasicParagraphs from './BasicParagraphs.svelte'\n  import Footer from './Footer.svelte'\n  import TeamCreatorList from './TeamCreatorList.svelte'\n  import ContentDataStore from '../stores/ContentDataStore.js'\n\n  import QATemplate from './QATemplate.svelte'\n\n  // set tweened animation store\n  const progress = tweened(0, {\n    duration: 800,\n    easing: quintOut,\n  })\n\n  // click&touch movement handler initial setting variables\n  let maxQuestion = 0 // the total question user need to answer\n  let currentPage = 1 // the initail page when enter QA sections\n  let mouseDown = false // true if user mousedown\n  let isMoving = false // true if user click and move their mouse\n  let windowHeight = window.innerHeight // screen height\n  let movementDownY = 0, // the y-coordinate when user click down\n    moveY = 0, // the y-coordinate when user move\n    moveDiff = 0, // the distance that user move (movementDownY - moveY)\n    newMovementY = 0, // the y-coordinate after user click up\n    overflowHeight = 0,\n    moveOverflowDiff = 0,\n    scrollOverflowTick = 0,\n    clickUpMovementY = newMovementY\n  const pageChangeThreshold = 0.1\n\n  // update QAsectionHeight initially\n  QASectionsHeight.update(() => windowHeight)\n\n  // detect click&toych direction\n  $: moveDirection = moveDiff <= 0 ? 'down' : 'up'\n\n  // y-coordinate that qa-container need to translate (just like normal scroll effect)\n  $: transleteY = $progress\n\n  // scroll-like movement initial setting variables\n  let validToScroll = true // is wheel event fire now?\n\n  onMount(() => {\n    // get all QA sections' height\n    QASectionsHeight.update(() => getAllSectionsHeight())\n    setTimeout(() => {\n      maxQuestion = document.querySelectorAll('[id^=\"qa-no-\"]').length - 1\n\n      QAProgressArray.update(() => {\n        let QAarray = $ContentDataStore.question_sets.map((d) => {\n          let obj = {}\n          obj['question_number'] = d.question_number\n          obj['status'] = 'unanswered'\n          return obj\n        })\n        return QAarray\n      })\n    }, 1000)\n  })\n\n  // function statement zone\n  // the handler that click&touch down event & add event listener to qa-container\n  function handleMovementDown(e) {\n    const QAcontainer = document.getElementById('qa-container')\n    mouseDown = true\n    // prevent error message mouse event trigger when user click nested button\n    if (!e.touches && $isMobile) return\n    movementDownY = $isMobile ? e.touches[0].clientY : e.clientY\n    console.log('click down')\n\n    // add mousemove, mouseup event to `qa-container`\n    QAcontainer.addEventListener('mousemove', handleMove)\n    QAcontainer.addEventListener('mouseup', handleMovementUp)\n    QAcontainer.addEventListener('touchmove', handleMove, { passive: true })\n    QAcontainer.addEventListener('touchend', handleMovementUp)\n  }\n\n  // the handler of click&touch move event\n  function handleMove(e) {\n    e.stopPropagation()\n    if (mouseDown) {\n      isMoving = true\n      moveY = $isMobile ? e.touches[0].clientY : e.clientY\n      moveDiff = (moveY - movementDownY) * 0.5 // moveDiff * 0.6 can prevent decrease distance that user move\n\n      // check overflowHeight\n      updateOverflowInfo()\n      newMovementY = clickUpMovementY + moveDiff\n      progress.set(newMovementY, { duration: 0 }) // update the latest coordinate to progress store\n    }\n  }\n\n  // the handler of click&touch up event\n  function handleMovementUp(e) {\n    e.stopPropagation()\n    const QAcontainer = document.getElementById('qa-container')\n\n    // reset setting varialbes when movement ending\n    isMoving = false\n    mouseDown = false\n    moveY = 0\n    movementDownY = 0\n\n    // detect if there's a overflow height section\n    if (checkOverflowSection()) {\n      clickUpMovementY = newMovementY\n      progress.set(newMovementY, { duration: 0 })\n      moveDiff = 0\n    } else {\n      // if not, use normal scroll mode\n      if (Math.abs(moveDiff) > windowHeight * pageChangeThreshold && !isOnQAsectionsTopOrEnd()) {\n        moveToNextPage()\n        moveDiff = 0\n      } else {\n        // improve user experience when scroll over the valid zone\n        progress.set(newMovementY, { duration: 0 })\n        progress.set(-totalSectionsHeight(0, currentPage - 1))\n        newMovementY = -totalSectionsHeight(0, currentPage - 1)\n        clickUpMovementY = newMovementY\n        moveDiff = 0\n      }\n    }\n\n    // remove event listener after mouse up\n    QAcontainer.removeEventListener('mouseup', handleMovementUp)\n    QAcontainer.removeEventListener('mousemove', handleMove)\n    QAcontainer.removeEventListener('touchend', handleMovementUp)\n    QAcontainer.removeEventListener('touchmove', handleMove)\n\n    console.log(currentPage)\n    console.log('click up')\n  }\n\n  function moveToNextPage() {\n    // 1. when moveDiff > (height of each page) * 0.3 => transition to next page\n    // 2. also need to detect scrolling/touching direction.\n    if (moveDirection === 'down') {\n      currentPage += 1\n      progress.set(newMovementY, { duration: 0 })\n      progress.set(-totalSectionsHeight(0, currentPage - 1))\n      newMovementY = -totalSectionsHeight(0, currentPage - 1)\n      // prevent user need to scroll & touch, so here need to re-locate clickUpMovementY\n      clickUpMovementY = newMovementY\n    } else {\n      currentPage -= 1\n      progress.set(newMovementY, { duration: 0 })\n      progress.set(-totalSectionsHeight(0, currentPage - 1))\n      newMovementY = -totalSectionsHeight(0, currentPage - 1)\n      // prevent user need to scroll & touch, so here need to re-locate clickUpMovementY\n      clickUpMovementY = newMovementY\n    }\n  }\n\n  // scroll/wheel event handler setting\n  function handleScroll(e) {\n    updateOverflowInfo()\n\n    if (e.deltaY > 0) {\n      moveDirection = 'down'\n    } else {\n      moveDirection = 'up'\n    }\n\n    console.log('scroll', moveOverflowDiff, overflowHeight)\n    console.log(checkScrollOverflowSection())\n    if (checkScrollOverflowSection() === true && validToScroll) {\n      clickUpMovementY = newMovementY + (moveDirection == 'down' ? -30 : 30)\n      newMovementY = newMovementY + (moveDirection == 'down' ? -30 : 30)\n      progress.set(newMovementY, { duration: 100 })\n    } else if (checkScrollOverflowSection() === false && validToScroll) {\n      validToScroll = false\n      scrollToNextPage()\n    } else if (checkScrollOverflowSection() === 'static') {\n      // do nothing\n    }\n  }\n\n  // the function let qa-container scroll to next page\n  function scrollToNextPage() {\n    if (moveDirection === 'down') {\n      currentPage += 1\n      progress.set(newMovementY, { duration: 0 })\n      progress.set(-totalSectionsHeight(0, currentPage - 1), { duration: 1000 })\n      newMovementY = -totalSectionsHeight(0, currentPage - 1)\n      clickUpMovementY = newMovementY\n\n      // the timer is to prevent excution of continuous scrollToNextPage\n      setTimeout(() => {\n        validToScroll = true\n      }, 1300)\n    } else if (moveDirection === 'up') {\n      currentPage -= 1\n      progress.set(newMovementY, { duration: 0 })\n      progress.set(-totalSectionsHeight(0, currentPage - 1), { duration: 1000 })\n      newMovementY = -totalSectionsHeight(0, currentPage - 1)\n      clickUpMovementY = newMovementY\n\n      // the timer is to prevent excution of continuous scrollToNextPage\n      setTimeout(() => {\n        validToScroll = true\n      }, 1300)\n    }\n  }\n\n  // the function check if the situation can scroll (the situation like if you move in the first page, you can't scroll on previous page)\n  function isOnQAsectionsTopOrEnd() {\n    if ((moveDirection === 'up' && currentPage === 1) || (moveDirection === 'down' && currentPage === $QAFinalPage)) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  //check overflow explain content\n  function checkOverflowSection() {\n    // crazy logic code ...\n    if (moveOverflowDiff < overflowHeight && moveDirection === 'down') {\n      return !isOnQAsectionsTopOrEnd()\n    } else if (moveOverflowDiff > overflowHeight && moveDirection === 'down') {\n      return false\n    } else if (moveOverflowDiff < overflowHeight && moveDirection === 'up') {\n      if (newMovementY >= 0 && currentPage === 1) {\n        return false\n      } else if (newMovementY >= 0 && currentPage !== 1) {\n        return true\n      } else if (newMovementY > -$QASectionsHeight[currentPage - 1] && currentPage === 1) {\n        return true\n      } else if (newMovementY > -totalSectionsHeight(0, currentPage - 1) && currentPage !== 1) {\n        return false\n      } else if (newMovementY < -totalSectionsHeight(0, currentPage - 1) && currentPage !== 1) {\n        return true\n      }\n    } else if (moveOverflowDiff > overflowHeight && moveDirection === 'up') {\n      return !isOnQAsectionsTopOrEnd()\n    }\n  }\n\n  // scroll overflow checker\n  function checkScrollOverflowSection() {\n    // crazy logic code ...\n    if (currentPage === 1 && moveDirection === 'up') {\n      if (newMovementY >= 0) {\n        return 'static'\n      } else if (moveOverflowDiff < overflowHeight) {\n        return true\n      } else if (moveOverflowDiff > overflowHeight) {\n        return false\n      }\n    } else if (moveDirection === 'down' && currentPage < $QAProgress) {\n      if (moveOverflowDiff === overflowHeight) {\n        return false\n      } else if (moveOverflowDiff < overflowHeight) {\n        return true\n      } else if (moveOverflowDiff > overflowHeight) {\n        return false\n      }\n    } else if (currentPage !== 1 && moveDirection === 'up') {\n      if (newMovementY < -totalSectionsHeight(0, currentPage - 1)) {\n        return true\n      } else if (newMovementY >= -totalSectionsHeight(0, currentPage - 1)) {\n        return false\n      }\n    }\n  }\n\n  // get selected section height\n  function totalSectionsHeight(start, end) {\n    const totalHeight = $QASectionsHeight.slice(start, end).reduce((a, b) => a + b, 0)\n    return totalHeight\n  }\n\n  // update overflow value\n  function updateOverflowInfo() {\n    overflowHeight = Math.abs(totalSectionsHeight(currentPage - 1, currentPage)) - windowHeight\n    moveOverflowDiff = Math.abs(newMovementY) - Math.abs(totalSectionsHeight(0, currentPage - 1))\n  }\n</script>\n\n{#if $ContentDataStore}\n  <div\n    class=\"\"\n    use:cssVariables={{ transleteY }}\n    id=\"qa-container\"\n    on:mousedown|stopPropagation={handleMovementDown}\n    on:touchstart|stopPropagation|passive={handleMovementDown}\n    on:wheel|stopPropagation|passive={handleScroll}\n  >\n    {#each $ContentDataStore.question_sets as { question_number }, i}\n      <div\n        class=\"qa-section bg-white\"\n        id={`qa-no-` + question_number}\n        style=\"display: {i === 0 ? 'block' : 'none'}; height: {windowHeight}px;\"\n      >\n        <div class=\"pt-6\">\n          <QATemplate {maxQuestion} questNumber={i + 1} />\n        </div>\n      </div>\n    {/each}\n    <div\n      class=\"qa-section basic-p-container bg-white \"\n      id=\"qa-no-{$ContentDataStore.question_sets.length + 1}\"\n      style=\"display: none; height: {windowHeight}px;\"\n    >\n      <p>你一共答對了 {$RightAnswerCalc} 題</p>\n      <BasicParagraphs sectionName=\"ending\" />\n      <Footer />\n    </div>\n  </div>\n{/if}\n",
    "<style>\n  .noselect {\n    -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n    -khtml-user-select: none; /* Konqueror HTML */\n    -moz-user-select: none; /* Old versions of Firefox */\n    -ms-user-select: none; /* Internet Explorer/Edge */\n    user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome, Edge, Opera and Firefox */\n  }\n</style>\n\n<script>\n  import {\n    QAFinalPage,\n    QASectionsHeight,\n    QAProgress,\n    RightAnswerCalc,\n    QAProgressArray,\n  } from '../stores/QAStatusStore.js'\n  import { changeCardSectionHeight, getAllSectionsHeight } from '../utils/helper.js'\n  import AnswerMessage from './AnswerMessage.svelte'\n  import AnswerHeader from './AnswerHeader.svelte'\n  import ContentDataStore from '../stores/ContentDataStore.js'\n\n  export let questNumber\n  export let maxQuestion\n\n  let explainStatus, QASet, Answers\n  let answerType = 'answer-normal'\n  let userHasClickedAnswer = false\n\n  // check store has fetched content data from GCS\n  $: if ($ContentDataStore) {\n    QASet = $ContentDataStore['question_sets'][questNumber - 1]\n  }\n\n  function checkAnswer(e) {\n    const selectedAnswer = e.target.dataset.correct\n    Answers = e.target.parentElement.children\n\n    // if user's clicked answer is correct:\n    // 1. apply correct style to each answer\n    // 2. show corresponded explain text to user\n    // 3. add accumulated answer number to QA info\n    if (selectedAnswer == 1) {\n      userHasClickedAnswer = true\n      explainStatus = 'explain_correct'\n      e.target.classList.add('answer-correct')\n      RightAnswerCalc.update(() => $RightAnswerCalc + 1)\n      // update progress array\n      QAProgressArray.update((currentData) => {\n        let tmpArray = currentData\n        tmpArray[questNumber - 1].status = 'correct'\n        return tmpArray\n      })\n    } else {\n      e.target.classList.add('answer-wrong')\n      userHasClickedAnswer = true\n      explainStatus = 'explain_wrong'\n      // update progress array\n      QAProgressArray.update((currentData) => {\n        let tmpArray = currentData\n        tmpArray[questNumber - 1].status = 'wrong'\n        return tmpArray\n      })\n    }\n\n    // handle each answer style\n    for (let i = 0; i < Answers.length; i++) {\n      if (Answers[i].dataset.correct == 1) {\n        Answers[i].classList.remove('answer-hover')\n        Answers[i].classList.remove('answer-normal')\n        Answers[i].classList.add('answer-correct')\n      } else {\n        Answers[i].style.opacity = 0.3\n        Answers[i].classList.remove('answer-hover')\n      }\n    }\n\n    // unlock next question card\n    document.getElementById('qa-no-' + (questNumber + 1)).style.display = 'block'\n    QAFinalPage.update(() => questNumber + 1)\n\n    // change section height if expain text is too long\n    setTimeout(() => {\n      changeCardSectionHeight(questNumber)\n      QASectionsHeight.update(() => getAllSectionsHeight())\n    }, 200)\n\n    // update question progress\n    QAProgress.update(() => questNumber + 1)\n  }\n\n  // remove event listener when user clicked\n  $: if (userHasClickedAnswer) {\n    for (let i = 0; i < Answers.length; i++) {\n      Answers[i].removeEventListener('click', checkAnswer)\n    }\n  }\n</script>\n\n{#if $ContentDataStore}\n  <div class=\"QA-wrapper rounded-2xl border-4 border-black mx-auto\">\n    <div class=\"w-full\">\n      <AnswerHeader {questNumber} {maxQuestion} />\n      <div class=\"noselect QA-question-font py-2 px-3 mt-2\">{QASet.question}</div>\n      <div class=\"mt-8\">\n        {#each QASet.answer as { discription, correct, i }}\n          <div\n            class=\"{answerType} rounded-2xl py-3 px-3 mb-3 cursor-pointer mx-3 answer-hover\"\n            on:click={checkAnswer}\n            data-correct={correct}\n            answer-index={i}\n          >\n            {discription}\n          </div>\n        {/each}\n      </div>\n      {#if userHasClickedAnswer}\n        <AnswerMessage {explainStatus} />\n        <div class=\"noselect text-left text-base border-b-2 border-black pt-6 pb-6 mx-3\">\n          {@html QASet[explainStatus]}\n        </div>\n        <div class=\"text-center text-xs my-2\">下一題</div>\n      {/if}\n    </div>\n  </div>\n{/if}\n",
    "<style>\n  /* SVG spinner icon animation */\n  .spinner {\n    -webkit-animation: rotate 2s linear infinite;\n    animation: rotate 2s linear infinite;\n    z-index: 2;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: -25px 0 0 -25px;\n    width: 50px;\n    height: 50px;\n  }\n  .spinner .path {\n    stroke: #cccccc;\n    stroke-linecap: round;\n    -webkit-animation: dash 1.5s ease-in-out infinite;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @-webkit-keyframes rotate {\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n\n  @keyframes rotate {\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n</style>\n\n<svg class=\"spinner\" viewBox=\"0 0 50 50\"><circle\n    class=\"path\"\n    cx=\"25\"\n    cy=\"25\"\n    r=\"20\"\n    fill=\"none\"\n    stroke-width=\"5\"\n  /></svg>\n",
    "<style>\n  .creator-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 20px;\n    justify-items: center;\n  }\n</style>\n\n<script>\n  export let bgColor = '#4D4D4D';\n  export let englishVersion = false;\n  export let creators = [\n    {\n      work: '製作',\n      name: ['Steven Yeo、Steven Yeo'],\n    },\n    {\n      work: '監製',\n      name: ['Steven Yeo、Steven Yeo'],\n    },\n  ];\n\n  const teamText = englishVersion ? 'Production Team' : '製作團隊';\n</script>\n\n<div class=\"mx-auto\" style=\"background-color: {bgColor};\">\n  <div class=\"text-center text-white font-light pt-6 pb-6\">\n    <h4 class=\"text-lg sm:text-2xl leading-normal tracking-wide text-white font-light pb-3\">{teamText}</h4>\n    <div class=\"creator-grid inline-block text-left text-sm sm:text-base px-4 content-center\">\n      {#each creators as { work, name }}\n        <div class=\"col-start-1 col-end-2 ml-auto pt-1\">{work}</div>\n        <div class=\"col-start-2 col-end-3 mr-auto pt-1\" style=\"word-break: keep-all;\">\n          {@html name}\n        </div>\n      {/each}\n    </div>\n    {#if !englishVersion}<span class=\"block text-sm sm:text-base mt-3\">（姓名依筆劃排序）</span>{/if}\n  </div>\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}